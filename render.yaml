services:
  - type: web
    name: seekreap-tier0
    env: static
    buildCommand: |
      echo "ðŸ”„ Building SeekReap Tier 0..."
      echo "Node.js version: $(node --version)"
      echo "Checking required files..."
      
      # Check if essential files exist
      if [ ! -f "cli.js" ]; then
        echo "âŒ Missing cli.js"
        exit 1
      fi
      
      if [ ! -f "package.json" ]; then
        echo "âŒ Missing package.json"
        exit 1
      fi
      
      # Test the CLI
      echo "Testing CLI..."
      CLI_OUTPUT=$(node cli.js --version)
      echo "CLI Output: $CLI_OUTPUT"
      
      # Create a simple index.html for the web
      echo "Creating web documentation..."
      cat > index.html << HTML
<!DOCTYPE html>
<html>
<head>
    <title>SeekReap Tier 0 - Documentation</title>
    <style>
        body { font-family: sans-serif; max-width: 800px; margin: 40px auto; padding: 20px; }
        .success { color: green; }
        pre { background: #f5f5f5; padding: 15px; border-radius: 5px; }
    </style>
</head>
<body>
    <h1>SeekReap Tier 0 (OSS Pilot)</h1>
    <p class="success">âœ… Build Successful</p>
    <p>Version: 1.1.0 | Status: FROZEN</p>
    
    <h2>Quick Start</h2>
    <pre><code>git clone https://github.com/Brandsiya/SeekReap-Tier-0-Verification
npm install
node cli.js --version</code></pre>
    
    <h2>Documentation</h2>
    <ul>
        <li><a href="README.md">README</a></li>
        <li><a href="TIERO_INSTALLATION.md">Installation Guide</a></li>
        <li><a href="TIERO_QUICKSTART.md">Quick Start Guide</a></li>
    </ul>
    
    <h2>Build Info</h2>
    <p>Built on: $(date)</p>
    <p>CLI: $CLI_OUTPUT</p>
</body>
</html>
HTML
      
      echo "âœ… Build completed successfully!"
    staticPublishPath: .
    routes:
      - type: rewrite
        source: /*
        destination: /index.html
